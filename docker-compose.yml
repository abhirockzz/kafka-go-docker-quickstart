version: '3'
services:
    producer:
        build: producer
        environment:
            - KAFKA_BROKER=192.168.99.100:9092
            - KAFKA_TOPIC=test
        ports:
            - '8080:8080'
    consumer:
        build: consumer
        environment:
            - KAFKA_BROKER=192.168.99.100:9092
            - KAFKA_TOPIC=test
        ports:
            - '8081:8080'
        depends_on:
            - producer